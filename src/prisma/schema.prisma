generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Music {
  id            Int     @id @default(autoincrement())
  title         String
  picture       String?
  artistName    String?
  artistPicture String?
  link          String?
  preview       String?
  album         String?
  playlistMusics PlaylistMusic[]
}

model Playlist {
  id     Int     @id @default(autoincrement())
  name   String
  description String?
  playlistMusics PlaylistMusic[]
}

model PlaylistMusic {
  playlist   Playlist @relation(fields: [playlistId], references: [id])
  playlistId Int

  music   Music @relation(fields: [musicId], references: [id])
  musicId Int

  addedAt DateTime @default(now())

  @@id([playlistId, musicId])
  @@index([musicId])
}
